(this.webpackJsonpbounce=this.webpackJsonpbounce||[]).push([[0],{56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(9),s=n.n(c),i=n(4),l=n(2),o=n(7),u=n(58),m=n(24),d=n.n(m).a.create({baseURL:"https://localhost:44322/api/",headers:{Accept:"application/json"}}),j=function(e,t,n){return e.reduce((function(a,r,c){if(c%2===1)return a;var s={id:Object(u.a)(),roundNumber:n,tournamentId:t,playerA:r,playerB:e[c+1],playerAScore:0,playerBScore:0};return[].concat(Object(o.a)(a),[s])}),[])},b=function(e){return{type:"LOAD_HISTORIC_PLAYERS",payload:e}},O=n(5),f=n(0),h=function(e){var t=e.startTournament,n=e.addPlayerName,r=e.listOfPlayers,c=e.getHistoricPlayers,s=e.historicPlayerList,i=Object(a.useState)(""),l=Object(O.a)(i,2),o=l[0],u=l[1],m=Object(a.useState)(""),d=Object(O.a)(m,2),j=d[0],b=d[1],h=Object(a.useState)("7"),p=Object(O.a)(h,2),y=p[0],N=p[1],x=c;Object(a.useEffect)((function(){x()}),[x]);var _=function(e){return 0!==e&&parseInt(Math.ceil(Math.log(e)/Math.log(2)))===parseInt(Math.floor(Math.log(e)/Math.log(2)))},g=function(){return r.some((function(e){return e.name.toLowerCase()===o.toLowerCase()}))};return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"main-header animate__animated animate__bounce heading",children:"Welcome to Bounce"}),Object(f.jsxs)("div",{className:"setup-page-container",children:[Object(f.jsxs)("section",{className:"table-container animate__animated animate__flipInX",children:[Object(f.jsx)("div",{className:"tournament-form animate__animated animate__flipInX",children:Object(f.jsx)("div",{children:Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({tournamentName:j,winningScore:y,entrants:r})},children:[Object(f.jsxs)("div",{className:"player-name-form",children:[Object(f.jsx)("p",{htmlFor:"playerName",children:"Enter Player Name:"}),Object(f.jsx)("input",{className:"form-fields",type:"text",id:"playerName",onChange:function(e){return u(e.currentTarget.value)},value:o}),Object(f.jsx)("button",{className:"add-btn",disabled:g(),onClick:function(e){e.preventDefault(),""!==o&&(""!==o&&n(o),u(""))},children:"Add Player"}),g()&&Object(f.jsx)("span",{className:"error-messages",children:"You cannot have two names that are the same"}),""===o?Object(f.jsx)("p",{className:"error-messages",children:"Please Enter a valid name"}):null]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{children:"Select Winning Score:"}),Object(f.jsxs)("select",{className:"form-fields",onChange:function(e){return N(e.currentTarget.value)},children:[Object(f.jsx)("option",{className:"form-fields",value:7,children:"7"}),Object(f.jsx)("option",{className:"form-fields",value:11,children:"11"}),Object(f.jsx)("option",{className:"form-fields",value:15,children:"15"}),Object(f.jsx)("option",{className:"form-fields",value:21,children:"21"})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("p",{htmlFor:"tournamentName",children:"Enter Tournament Name:"}),Object(f.jsx)("input",{className:"form-fields",type:"text",id:"tournamentName",onChange:function(e){var t=e.currentTarget.value;b(t)},value:j}),Object(f.jsx)("button",{className:"add-btn add-btn__tournament__btn",disabled:r.length<4||!_(r.length),children:"Start Tournament"})]}),Object(f.jsx)("p",{className:"error-messages",children:r.length<4?"Please enter four or more players":_(r.length)?null:"Please enter 4, 8, 16,32, 64 ..... number of players"})]})})}),Object(f.jsxs)("div",{className:"tournament-form tournament-form__bottom animate__animated animate__flipInX",children:[Object(f.jsx)("p",{children:"Previous Entrants:"}),Object(f.jsx)("ul",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:s.map((function(e,t){return Object(f.jsx)("li",{className:"historic-players",disabled:g(),value:e.name,children:e.name},t)}))})]})]}),Object(f.jsxs)("section",{style:{overflow:"auto"},className:"list-display animate__animated animate__flipInX",children:[Object(f.jsx)("p",{children:"Tournament Players:"}),Object(f.jsx)("ul",{className:"player-list-container",children:r.map((function(e,t){return Object(f.jsx)("li",{className:"player-list",children:e.name},t)}))})]})]})]})},p=Object(i.b)((function(e){return{playerCount:e.playerCount,listOfPlayers:e.listOfPlayers,historicPlayerList:e.historicPlayerList}}),(function(e){return{startTournament:function(t){return e(function(e){var t={id:Object(u.a)(),name:e.tournamentName,entrants:e.entrants,winningScore:e.winningScore},n=j(e.entrants,t.id,1);return d.post("/tournaments",t),{type:"START_TOURNAMENT",payload:Object(l.a)(Object(l.a)({},t),{},{games:n})}}(t))},addPlayerName:function(t){return e(function(e){return{type:"ADD_PLAYER",payload:e}}(t))},getHistoricPlayers:function(){return e((function(e){d.get("/players").then((function(t){var n=t.data;e(b(n))}))}))}}}))(h),y=function(e){var t=e.playerOne,n=e.playerTwo,r=e.submitWinner,c=(e.isFinal,e.winningScore),s=Object(a.useState)(0),i=Object(O.a)(s,2),l=i[0],o=i[1],u=Object(a.useState)(0),m=Object(O.a)(u,2),d=m[0],j=m[1];Object(a.useEffect)((function(){var e={playerAScore:l,playerBScore:d};l===+c&&r(n,e),d===+c&&r(t,e)}),[l,d,t,n,c,r]);return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{style:{width:"100%"},className:"table animate__animated animate__flipInX",children:[Object(f.jsxs)("div",{className:"player-one",children:[Object(f.jsx)("p",{className:l===+c?"winner animate__animated animate__heartBeat":null,children:t.name}),Object(f.jsx)("button",{className:"score-button",disabled:l===+c||d===+c,onClick:function(){return o(l+1)},children:"+"}),Object(f.jsx)("p",{children:l})]}),Object(f.jsxs)("div",{className:"player-two",children:[Object(f.jsx)("p",{children:d}),Object(f.jsx)("button",{className:"score-button",disabled:l===+c||d===+c,onClick:function(){return j(d+1)},children:"+"}),Object(f.jsx)("p",{className:d===+c?"winner animate__animated animate__heartBeat":null,children:n.name})]})]})})},N=Object(i.b)((function(e){return{winningScore:e.winningScore,tournamentId:e.tournamentId,roundNumber:e.roundNumber,listOfPlayers:e.listOfPlayers}}),(function(e){return{submitWinner:function(t,n){return e(function(e,t){return{type:"WINNER",payload:{player:e,scores:t}}}(t,n))}}}))(y),x=function(e){var t=e.round,n=e.reset,a=e.submitRound,r=e.listOfPlayers,c=e.tournamentName,s=e.roundNumber,i=e.tournamentId;e.isFinal;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{className:"heading",children:c}),Object(f.jsx)("section",{className:"games",children:t.map((function(e){return Object(f.jsx)(N,{listOfPlayers:r,playerOne:e.playerA,playerTwo:e.playerB,isFinal:1===t.length},e.id)}))}),Object(f.jsx)("div",{className:"congratulations-image",children:1===r.length?Object(f.jsxs)("p",{className:"congratulations  ",children:["Congratulations ",r[0].name,", you are the tournament winner!!!"]}):null}),Object(f.jsxs)("div",{className:"back-to-home-container",children:[Object(f.jsx)("button",{className:"add-btn",onClick:n,children:"Restart"}),Object(f.jsx)("p",{className:"careful",children:"This will take you back to the home page"})]}),t.length===r.length&&r.length>1?Object(f.jsx)("button",{className:"add-btn",onClick:function(){return a(r,i,s)},children:" Submit All Rounds"}):null]})},_=Object(i.b)((function(e){return{round:e.listOfGames,listOfWinners:e.listOfWinners,listOfPlayers:e.listOfPlayers,tournamentName:e.tournamentName,roundNumber:e.roundNumber,tournamentId:e.tournamentId}}),(function(e){return{reset:function(){return e({type:"RESET"})},submitRound:function(t,n,a){return e(function(e,t,n){var a=j(e,t,n);return d.post("/games",a),{type:"SUBMIT_ROUND",payload:a}}(t,n,a))}}}))(x),g=function(e){var t=e.tournamentStarted;return Object(f.jsx)("div",{className:"container",children:t?Object(f.jsx)(_,{}):Object(f.jsx)(p,{})})},v=Object(i.b)((function(e){return{tournamentStarted:e.tournamentStarted}}))(g),S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},P=n(6),T={playerName:"",isFinished:!1,tournamentName:"",tournamentId:"",winningScore:0,roundNumber:0,listOfGames:[],listOfPlayers:[],historicPlayerList:[],tournamentStarted:!1},w=function(e){return e.sort((function(){return Math.random()-.5}))},I=function(e,t){switch(t.type){case"START_TOURNAMENT":return function(e,t){var n=t.payload;return Object(l.a)(Object(l.a)({},e),{},{listOfPlayers:w(Object(o.a)(e.listOfPlayers)),tournamentName:n.name,tournamentStarted:!0,winningScore:n.winningScore,tournamentId:n.id,roundNumber:1,listOfGames:n.games})}(e,t);case"SUBMIT_ROUND":return function(e,t){var n=t.payload;return Object(l.a)(Object(l.a)({},e),{},{listOfGames:n})}(e,t);case"WINNER":return function(e,t){var n=t.payload;return Object(l.a)(Object(l.a)({},e),{},{listOfPlayers:Object(o.a)(e.listOfPlayers.filter((function(e){return e.id!==n.player.id})))})}(e,t);case"ADD_PLAYER":return function(e,t){var n=t.payload,a={id:Object(u.a)(),name:n};return Object(l.a)(Object(l.a)({},e),{},{listOfPlayers:[].concat(Object(o.a)(e.listOfPlayers),[a])})}(e,t);case"LOAD_HISTORIC_PLAYERS":return function(e,t){var n=t.payload;return Object(l.a)(Object(l.a)({},e),{},{historicPlayerList:n})}(e,t);case"RESET":return Object(l.a)({},T);default:return e}},E=n(25),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.c,A=Object(P.d)(I,T,R(Object(P.a)(E.a)));n(56);s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(i.a,{store:A,children:Object(f.jsx)(v,{})})}),document.getElementById("root")),S()}},[[57,1,2]]]);
//# sourceMappingURL=main.1cbbc3e3.chunk.js.map